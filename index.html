<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­å±±å¤§å­¦ï¼ˆä¸œèæ ¡åŒºï¼‰æ‹›ç”Ÿæ™ºèƒ½å’¨è¯¢ä¸­å¿ƒ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Microsoft YaHei', sans-serif; }
        body { 
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%); 
            min-height: 100vh; 
            padding: 20px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            position: relative;
        }
        .container { 
            max-width: 800px; 
            width: 100%; 
            background: white; 
            border-radius: 20px; 
            box-shadow: 0 10px 30px rgba(0, 64, 152, 0.1); 
            padding: 40px; 
            margin-top: 20px; 
            z-index: 1;
        }
        .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #004098; padding-bottom: 20px; }
        .header h1 { color: #004098; font-size: 2.2em; margin-bottom: 10px; }
        .header p { color: #666; font-size: 1.1em; line-height: 1.6; }
        .guide-box { background: #f0f7ff; border-left: 5px solid #004098; padding: 20px; margin: 25px 0; border-radius: 0 10px 10px 0; }
        .guide-box h3 { color: #004098; margin-bottom: 10px; }
        .faq-list { margin: 25px 0; }
        .faq-list li { background: #f9f9f9; margin: 10px 0; padding: 15px; border-radius: 10px; border-left: 4px solid #ccc; }
        .note { background: #fff8e1; border: 1px dashed #ffb300; padding: 15px; border-radius: 10px; margin-top: 25px; text-align: center; font-size: 0.95em; color: #5d4037; }
        .footer { margin-top: 30px; text-align: center; color: #888; font-size: 0.9em; }
        
        /* Coze SDK è‡ªå®šä¹‰æ ·å¼è¦†ç›– */
        :root {
            --coze-primary-color: #004098 !important; /* ä¸­å¤§è“è‰² */
            --coze-bubble-size: 60px !important;
            --coze-bubble-icon-size: 28px !important;
        }
        
        /* å¼ºåˆ¶æ˜¾ç¤ºSDKæŒ‰é’®çš„æ ·å¼ */
        .coze-chat-container {
            display: block !important;
            opacity: 1 !important;
            visibility: visible !important;
        }
        
        /* åŠ è½½æç¤º */
        .coze-loading {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background-color: #004098;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 9999;
            color: white;
            font-size: 12px;
            text-align: center;
            padding: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ä¸­å±±å¤§å­¦ï¼ˆä¸œèæ ¡åŒºï¼‰æ‹›ç”Ÿæ™ºèƒ½å’¨è¯¢ä¸­å¿ƒ</h1>
            <p>æ‚¨å¥½ï¼æ¬¢è¿ä½¿ç”¨å®˜æ–¹æ‹›ç”ŸAIåŠ©æ‰‹ã€‚æˆ‘å¯ä»¥ä¸ºæ‚¨24å°æ—¶è§£ç­”å…³äºå½•å–åˆ†æ•°çº¿ã€ä¸“ä¸šä»‹ç»ã€æ ¡å›­ç”Ÿæ´»ã€æ‹›ç”Ÿæ”¿ç­–ç­‰å„ç±»é—®é¢˜ã€‚</p>
            <p><strong>è¯·ç›´æ¥ä½¿ç”¨æœ¬é¡µé¢å³ä¸‹è§’çš„èŠå¤©çª—å£è¿›è¡Œå’¨è¯¢ï¼Œå…¨ç¨‹å…è´¹ï¼Œæ— éœ€è·³è½¬ã€‚</strong></p>
        </div>

        <div class="guide-box">
            <h3>ğŸ’¡ æ‚¨å¯ä»¥è¿™æ ·é—®æˆ‘ï¼š</h3>
            <ul class="faq-list">
                <li>"ä¸­å±±å¤§å­¦ä¸œèæ ¡åŒºä»Šå¹´æ‹›å“ªäº›ä¸“ä¸šï¼Ÿ"</li>
                <li>"å¾€å¹´ã€ç‰©ç†ç±»/å†å²ç±»ã€‘åœ¨ã€å¹¿ä¸œçœã€‘çš„å½•å–æœ€ä½åˆ†å’Œä½æ¬¡æ˜¯å¤šå°‘ï¼Ÿ"</li>
                <li>"å¼ºåŸºè®¡åˆ’å¦‚ä½•æŠ¥åï¼Ÿå…¥å­¦åå¯ä»¥è½¬ä¸“ä¸šå—ï¼Ÿ"</li>
                <li>"æ™ºèƒ½å·¥ç¨‹å­¦é™¢å’Œç”Ÿç‰©åŒ»å­¦å·¥ç¨‹å­¦é™¢çš„åŸ¹å…»ç‰¹è‰²æ˜¯ä»€ä¹ˆï¼Ÿ"</li>
                <li>"ä¸œèæ ¡åŒºçš„ä½å®¿ã€é£Ÿå ‚å’Œæ ¡å›­ç¯å¢ƒæ€ä¹ˆæ ·ï¼Ÿ"</li>
            </ul>
        </div>

        <div class="note">
            <p>æœ¬æœåŠ¡ç”±ä¸­å±±å¤§å­¦æ‹›ç”ŸåŠï¼ˆä¸œèç»„ï¼‰æä¾›ï¼ŒAIå›ç­”åŸºäºå®˜æ–¹æ‹›ç”Ÿèµ„æ–™ï¼Œä»…ä¾›å‚è€ƒã€‚å¦‚æœ‰æœ€æ–°å˜åŠ¨ï¼Œè¯·ä»¥æ‹›ç”Ÿç½‘æ­£å¼é€šçŸ¥ä¸ºå‡†ã€‚</p>
        </div>

        <div class="footer">
            <p>Â© ä¸­å±±å¤§å­¦æœ¬ç§‘æ‹›ç”ŸåŠå…¬å®¤ï¼ˆä¸œèç»„ï¼‰ ç‰ˆæƒæ‰€æœ‰</p>
        </div>
    </div>

    <!-- Coze SDK åŠ è½½æç¤º -->
    <div id="cozeLoading" class="coze-loading">
        åŠ è½½ä¸­...
    </div>

    <!-- æ–¹æ¡ˆ1: ä½¿ç”¨å®˜æ–¹æœ€æ–°SDK -->
    <script>
        // æ˜¾ç¤ºåŠ è½½æç¤º
        document.addEventListener('DOMContentLoaded', function() {
            var loading = document.getElementById('cozeLoading');
            loading.style.display = 'flex';
        });
        
        // åŠ¨æ€åŠ è½½SDKå¹¶åˆå§‹åŒ–
        function loadCozeSDK() {
            const script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/@coze/web-sdk@latest/dist/index.umd.js';
            script.onload = initCozeSDK;
            script.onerror = function() {
                console.error('ä¸»CDNåŠ è½½å¤±è´¥ï¼Œå°è¯•å¤‡ç”¨CDN...');
                loadBackupSDK();
            };
            document.head.appendChild(script);
        }
        
        // å¤‡ç”¨CDN
        function loadBackupSDK() {
            const backupScript = document.createElement('script');
            backupScript.src = 'https://unpkg.com/@coze/web-sdk@latest/dist/index.umd.js';
            backupScript.onload = initCozeSDK;
            backupScript.onerror = function() {
                console.error('æ‰€æœ‰CDNåŠ è½½å¤±è´¥');
                document.getElementById('cozeLoading').innerHTML = 'åŠ è½½å¤±è´¥<br>è¯·åˆ·æ–°';
            };
            document.head.appendChild(backupScript);
        }
        
        // åˆå§‹åŒ–Coze SDK
        function initCozeSDK() {
            try {
                // ç­‰å¾…SDKå¯¹è±¡å¯ç”¨
                if (typeof window.CozeWebSDK === 'undefined') {
                    setTimeout(initCozeSDK, 500);
                    return;
                }
                
                console.log('Coze SDKå·²åŠ è½½:', window.CozeWebSDK);
                
                // åˆå§‹åŒ–é…ç½®
                window.CozeWebSDK.init({
                    config: {
                        bot_id: '7602452683702059017',
                        server_url: 'https://api.coze.cn',
                    },
                    componentProps: {
                        title: 'ä¸­å±±å¤§å­¦æ‹›ç”Ÿå’¨è¯¢',
                        placeholder: 'è¯·è¾“å…¥æ‚¨çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼šå½•å–åˆ†æ•°ã€ä¸“ä¸šä»‹ç»...',
                        auto_trigger_welcome: true, // è‡ªåŠ¨è§¦å‘æ¬¢è¿è¯­
                        show_privacy_confirm: false, // ä¸æ˜¾ç¤ºéšç§ç¡®è®¤
                        bubble_logo: 'https://upload.wikimedia.org/wikipedia/zh/thumb/5/5c/Sun_Yat-sen_University_Logo.svg/300px-Sun_Yat-sen_University_Logo.svg.png', // ä¸­å¤§logo
                        bubble_style: {
                            size: 'large',
                            color: '#004098',
                            icon_color: 'white'
                        },
                        chat_window_style: {
                            header_style: {
                                background_color: '#004098',
                                text_color: 'white'
                            },
                            input_style: {
                                background_color: '#f5f5f5'
                            }
                        }
                    },
                    onReady: function() {
                        console.log('Coze SDK åˆå§‹åŒ–æˆåŠŸï¼');
                        // éšè—åŠ è½½æç¤º
                        document.getElementById('cozeLoading').style.display = 'none';
                        
                        // å¼ºåˆ¶æ˜¾ç¤ºèŠå¤©æŒ‰é’®
                        setTimeout(function() {
                            const chatBubbles = document.querySelectorAll('[class*="coze"][class*="bubble"]');
                            chatBubbles.forEach(bubble => {
                                bubble.style.display = 'block !important';
                                bubble.style.opacity = '1 !important';
                                bubble.style.visibility = 'visible !important';
                            });
                        }, 1000);
                    },
                    onError: function(error) {
                        console.error('Coze SDK åˆå§‹åŒ–é”™è¯¯:', error);
                        document.getElementById('cozeLoading').innerHTML = 'åˆå§‹åŒ–å¤±è´¥<br>è¯·åˆ·æ–°';
                    }
                });
            } catch (error) {
                console.error('åˆå§‹åŒ–å¼‚å¸¸:', error);
                document.getElementById('cozeLoading').innerHTML = 'å‡ºé”™<br>è¯·åˆ·æ–°';
            }
        }
        
        // é¡µé¢åŠ è½½åå¼€å§‹åŠ è½½SDK
        window.addEventListener('load', function() {
            loadCozeSDK();
        });
        
        // å¦‚æœ30ç§’åè¿˜æ²¡æœ‰SDKï¼Œæ˜¾ç¤ºé”™è¯¯
        setTimeout(function() {
            const loadingEl = document.getElementById('cozeLoading');
            if (loadingEl && loadingEl.style.display !== 'none') {
                loadingEl.innerHTML = 'è¯·æ£€æŸ¥ç½‘ç»œ<br>åˆ·æ–°é‡è¯•';
            }
        }, 30000);
    </script>

    <!-- æ–¹æ¡ˆ2: ç›´æ¥ä½¿ç”¨Cozeçš„iframeæ–¹æ¡ˆï¼ˆå¦‚æœSDKä¸è¡Œï¼‰ -->
    <script>
        // å¦‚æœ5ç§’åSDKè¿˜æ²¡åˆå§‹åŒ–æˆåŠŸï¼Œå°è¯•iframeæ–¹æ¡ˆ
        setTimeout(function() {
            const loadingEl = document.getElementById('cozeLoading');
            if (loadingEl && loadingEl.style.display !== 'none') {
                console.log('å°è¯•ä½¿ç”¨iframeæ–¹æ¡ˆ...');
                
                // åˆ›å»ºiframeå®¹å™¨
                const iframeContainer = document.createElement('div');
                iframeContainer.id = 'coze-iframe-container';
                iframeContainer.style.cssText = `
                    position: fixed;
                    bottom: 100px;
                    right: 30px;
                    width: 400px;
                    height: 600px;
                    border: none;
                    border-radius: 15px;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                    display: none;
                    z-index: 10000;
                    background: white;
                `;
                
                // åˆ›å»ºiframe
                const iframe = document.createElement('iframe');
                iframe.src = `https://www.coze.cn/space/7602452683702059017/bot?fullscreen=false&show_closed_btn=true`;
                iframe.style.cssText = `
                    width: 100%;
                    height: 100%;
                    border: none;
                    border-radius: 15px;
                `;
                
                iframeContainer.appendChild(iframe);
                document.body.appendChild(iframeContainer);
                
                // ä¿®æ”¹åŠ è½½æç¤ºä¸ºèŠå¤©æŒ‰é’®
                loadingEl.innerHTML = 'ğŸ’¬';
                loadingEl.onclick = function() {
                    iframeContainer.style.display = iframeContainer.style.display === 'none' ? 'block' : 'none';
                };
                
                // æ·»åŠ å…³é—­æŒ‰é’®
                const closeBtn = document.createElement('div');
                closeBtn.innerHTML = 'Ã—';
                closeBtn.style.cssText = `
                    position: absolute;
                    top: -15px;
                    right: -15px;
                    width: 30px;
                    height: 30px;
                    background: #004098;
                    color: white;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                    font-size: 20px;
                    z-index: 10001;
                `;
                closeBtn.onclick = function() {
                    iframeContainer.style.display = 'none';
                };
                iframeContainer.appendChild(closeBtn);
                
                console.log('iframeæ–¹æ¡ˆå·²å‡†å¤‡å°±ç»ª');
            }
        }, 5000);
    </script>
</body>
</html>
